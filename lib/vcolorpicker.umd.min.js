(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vcolorpicker"]=e(require("vue")):t["vcolorpicker"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s="fb15")}({"0ab5":function(t,e,s){},"10d6":function(t,e,s){"use strict";var i=s("4a98"),n=s.n(i);n.a},"190a":function(t,e,s){"use strict";var i=s("8e50"),n=s.n(i);n.a},"4a98":function(t,e,s){},6194:function(t,e,s){"use strict";var i=s("0ab5"),n=s.n(i);n.a},8875:function(t,e,s){var i,n,o;(function(s,a){n=[],i=a,o="function"===typeof i?i.apply(e,n):i,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var s,i,n,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,r=o.exec(f.stack)||a.exec(f.stack),c=r&&r[1]||!1,l=r&&r[2]||!1,d=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");c===d&&(s=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=s.replace(i,"$1").trim());for(var u=0;u<h.length;u++){if("interactive"===h[u].readyState)return h[u];if(h[u].src===c)return h[u];if(c===d&&h[u].innerHTML&&h[u].innerHTML.trim()===n)return h[u]}return null}}return t}))},"8bbf":function(e,s){e.exports=t},"8e50":function(t,e,s){},e463:function(t,e,s){},fb15:function(t,e,s){"use strict";if(s.r(e),"undefined"!==typeof window){var i=window.document.currentScript,n=s("8875");i=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(s.p=o[1])}var a=s("8bbf"),r=s.n(a),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mitodolistvue"},[s("Home",{attrs:{updateData:t.updateData,controlMask:t.controlMask,showMask:t.showMask,chooseLeft:t.chooseLeft,newData:t.newData},on:{maskDown:t.maskDown},scopedSlots:t._u([{key:"middle",fn:function(){return[s("div",{staticClass:"middle"},[s("div",{on:{click:t.openTrashCan}},[s("span",{class:{difColor:!t.chooseLeft}},[t._v("便签")]),s("i",{staticClass:"iconfont icon-xiajiantou",class:{rotate:t.isRotate,difColor:!t.chooseLeft}}),s("transition",{attrs:{name:"trashcan"}},[t.isOpenTrashCan?s("div",{staticClass:"trashcan"},[s("span",[t._v("废纸篓")]),s("span",[t._v("新建文件夹")])]):t._e()])],1),s("span",{class:{difColor:t.chooseLeft},on:{click:function(e){t.chooseLeft=!1}}},[t._v("待办")])])]},proxy:!0}])}),s("transition",{attrs:{name:"mask"},on:{"after-leave":t.afterMaskLeave}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],ref:"mask",staticClass:"mask",on:{click:function(e){return t.controlMask(!1)}}})])],1)},l=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"top"},[t._t("middle"),t.chooseLeft?s("div",{staticClass:"setting",on:{click:t.openSetting}},[s("i",{staticClass:"iconfont icon-more2"}),s("transition",{attrs:{name:"settingmenu"}},[t.isOpenSetting?s("div",{staticClass:"settingmenu"},[s("span",[t._v("宫格模式")]),s("span",[t._v("设置")])]):t._e()])],1):s("div",{staticClass:"setting",on:{click:t.openSetting}},[s("i",{staticClass:"iconfont icon-luomu"}),s("transition",{attrs:{name:"settingmenu"}},[t.isOpenSetting?s("div",{staticClass:"settingmenu"},[s("span",[t._v("宫格模式")]),s("span",[t._v("设置")])]):t._e()])],1)],2),s("div",{staticClass:"scroll"},[s("div",{staticClass:"container"},[t._t("middle"),t.chooseLeft?s("div",{class:{transup:t.isUp}},[s("div",{staticClass:"search"},[s("div",[s("i",{staticClass:"iconfont icon-fangdajing"}),s("input",{class:{indent:t.isUp},attrs:{type:"text",placeholder:"搜索便签"},on:{focus:t.inSearch,blur:t.outSearch}}),s("span",{class:{disleft:t.isUp}},[t._v("取消")])])]),s("LeftList",{attrs:{newData:t.newData,chooseLeft:t.chooseLeft,updateData:t.updateData}})],1):s("div",{class:{transup:t.isUp}},[s("div",{staticClass:"search"},[s("div",[s("i",{staticClass:"iconfont icon-fangdajing"}),s("input",{class:{indent:t.isUp},attrs:{type:"text",placeholder:"搜索待办"},on:{focus:t.inSearch,blur:t.outSearch}}),s("span",{class:{disleft:t.isUp}},[t._v("取消")])])]),s("RightList")],1)],2)]),s("Add")],1)},h=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"leftlist",attrs:{id:"leftlist"}},[0===t.newData.length?s("div",{staticClass:"nodata"},[t._m(0)]):s("div",{staticClass:"havedata"},[s("ul",{ref:"ulList",staticClass:"ulList"},t._l(t.newData,(function(e,i){return s("li",{key:e.id,ref:e.id,refInFor:!0,attrs:{"data-index":i},on:{mousedown:function(s){return t.downMouse(e.id)},mouseup:function(s){return t.upMouse(e.id)}}},[s("span",[t._v(t._s(e.title))]),s("span",[t._v(t._s(e.content))]),s("span",[t._v(t._s(e.time))])])})),0)])])},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("i",{staticClass:"iconfont icon-bsm_bianqian-"}),s("span",[t._v("没有便签")])])}],p={name:"LeftList",data(){return{oldListLiDis:[],listLiDis:[],liPrePosition:{top:0,left:0},moveLiId:null,moveIndex:0,flag:!0,moveLiPosY:0,emptyIndex:0}},props:["newData","chooseLeft","updateData"],components:{},methods:{docMouseUp(){this.moveLiId&&(this.oldListLiDis.forEach((t,e)=>{var s=this.listLiDis.findIndex((e,s)=>e===t);if(-1===s){let t=e-this.moveIndex;this.$refs.ulList.childNodes[this.moveIndex].style.transform=t>0?`translateY(${Math.abs(t)*this.liDis}px) scale(1)`:t<0?`translateY(-${Math.abs(t)*this.liDis}px) scale(1)`:"scale(1)",this.$refs.ulList.childNodes[this.moveIndex].dataset.index=e;var i=[];this.$refs.ulList.childNodes.forEach(t=>{i.push(t.dataset.index)}),this.updateData(i,this.$refs.ulList.childNodes)}}),this.$refs[this.moveLiId][0].style.zIndex=0,this.$refs[this.moveLiId][0].style.border="none",document.removeEventListener("mousemove",this.moveMouse))},downMouse(t,e){var s=e||window.event;this.moveLiId=t,this.flag=!0,this.liPrePosition.top=s.pageY,this.liPrePosition.left=s.pageX,this.$refs[t][0].style.transform="scale(0.95)",this.$refs[t][0].style.zIndex=1,this.$refs[t][0].style.border="1px solid #f90",document.addEventListener("mousemove",this.moveMouse)},upMouse(t){this.$refs[t][0].style.transform="scale(1)"},moveMouse(t){var e=t||window.event,s=this.$refs[this.moveLiId][0],i=e.pageX-this.liPrePosition.left,n=e.pageY-this.liPrePosition.top;s.style.transform=`translate(${i}px, ${n}px) scale(0.95)`,this.moveLiPositionY=s.offsetTop+s.clientHeight/2+n,this.flag&&(this.moveIndex=this.listLiDis.findIndex(t=>(this.flag=!1,this.moveLiPositionY>t-3&&this.moveLiPositionY<t+3))),this.listLiDis.forEach((t,e)=>{if(this.moveIndex!==e&&this.moveLiPositionY>=this.listLiDis[e]-this.liDis/2&&this.moveLiPositionY<=this.listLiDis[e]+this.liDis/2)if(n-this.moveLiPosY>0){if(this.moveLiPosY=n,this.moveLiPositionY>this.listLiDis[e]){var s=this.$refs.ulList.childNodes[e],i=1*s.style.transform.replace(/[^0-9\-]/gi,"");0!==i?(s.style.transform="translateY(0px)",s.dataset.index=e,this.listLiDis[e]=this.oldListLiDis[e]):(s.style.transform=`translateY(-${this.liDis}px)`,s.dataset.index=e-1,this.listLiDis[e]-=this.liDis)}}else if(n-this.moveLiPosY<0&&(this.moveLiPosY=n,this.moveLiPositionY<this.listLiDis[e])){s=this.$refs.ulList.childNodes[e],i=1*s.style.transform.replace(/[^0-9\-]/gi,"");0!==i?(s.style.transform="translateY(0px)",s.dataset.index=e-1,this.listLiDis[e]=this.oldListLiDis[e]):(s.style.transform=`translateY(${this.liDis}px)`,s.dataset.index=e+1,this.listLiDis[e]+=this.liDis)}})}},computed:{liDis(){return this.listLiDis[1]-this.listLiDis[0]}},watch:{newData(){this.$refs.ulList.childNodes.forEach(t=>{var e=t.offsetTop+t.clientHeight/2;this.listLiDis.push(e),this.oldListLiDis.push(e)})}},created(){},mounted(){this.$refs.ulList.childNodes.forEach(t=>{var e=t.offsetTop+t.clientHeight/2;this.listLiDis.push(e),this.oldListLiDis.push(e)}),document.addEventListener("mouseup",this.docMouseUp),this.$once("hook:beforeDestroy",()=>{document.removeEventListener("mouseup",this.docMouseUp)})}},m=p;s("10d6");function v(t,e,s,i,n,o,a,r){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):n&&(c=r?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}var L=v(m,u,f,!1,null,"ba1fc5f8",null),D=L.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"rightlist"}},[t._v(" RightList ")])},y=[],g={name:"RightList",data(){return{}},props:{},components:{},methods:{},computed:{},watch:{},created(){},mounted(){}},x=g,w=v(x,_,y,!1,null,"1c75f22c",null),b=w.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"add"}})},$=[],C={name:"Add",data(){return{}},props:{},components:{},methods:{},computed:{},watch:{},created(){},mounted(){}},M=C,S=v(M,k,$,!1,null,"26aac3ad",null),P=S.exports,E={name:"Home",data(){return{isOpenSetting:!1,isUp:!1}},props:["controlMask","showMask","chooseLeft","newData","updateData"],components:{LeftList:D,RightList:b,Add:P},methods:{openSetting(){this.isOpenSetting=!0,this.controlMask(this.isOpenSetting)},inSearch(){this.isUp=!0,this.controlMask(this.isUp),this.$emit("maskDown")},outSearch(){this.isUp=!1,this.controlMask(this.isUp),this.$emit("maskDown")}},watch:{showMask(t){t||(this.isOpenSetting=t)}}},O=E,T=(s("6194"),v(O,d,h,!1,null,"69c6b09b",null)),N=T.exports,Y={name:"MiTodolistVue",data(){return{newData:[],showMask:!1,isOpenTrashCan:!1,isRotate:!1,chooseLeft:!0}},props:["oldData","callback"],components:{Home:N},methods:{controlMask(t){this.showMask=t,t||(this.isOpenTrashCan=t,this.isRotate=t)},openTrashCan(){this.chooseLeft?(this.isOpenTrashCan=!0,this.controlMask(this.isOpenTrashCan),this.isRotate=!0):this.chooseLeft=!0},maskDown(){this.$refs.mask.style.transform="translateY(50px)"},afterMaskLeave(){this.$refs.mask.style.transform=""},updateData(t,e){console.log(t);var s=[];t.forEach((t,e)=>{1*t!==e?s[1*t]=this.newData[e]:s[e]=this.newData[e]}),e.forEach(t=>{t.style.transition="transform 0s linear 0s"}),this.newData=s,e.forEach(t=>{t.style.transition="",t.style.transform=""})}},created(){this.newData=this.oldData},beforeDestroy(){console.log("beforeDestroy"),this.callback(this.newData)}},I=Y,j=(s("190a"),v(I,c,l,!1,null,"0e477655",null)),U=j.exports;s("e463");let R=r.a.extend(U);U.install=t=>{t.prototype.$Todolist=class{constructor(t){if("string"!==typeof t.el)throw Error("请传入正确的CSS选择器");if(this.containerNode=document.querySelector(t.el),this.parentNode=this.containerNode.parentNode,!this.containerNode)throw Error("未找到指定DOM对象");this.component=new R({propsData:{oldData:t.oldData,callback:t.callback}}).$mount(this.containerNode)}close(){this.component.$destroy(),this.parentNode.replaceChild(this.containerNode,this.parentNode.firstChild)}}};var H=U;e["default"]=H}})}));
//# sourceMappingURL=vcolorpicker.umd.min.js.map